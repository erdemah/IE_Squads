<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="Garry" content="">
    <title>View you pay level</title>


    <link href="open-iconic/font/css/open-iconic-bootstrap.css" rel="stylesheet">
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/index.css" rel="stylesheet">
    <link href="css/working_hour.css" rel="stylesheet">
    <link href="css/scroll.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Architects+Daughter&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400" rel="stylesheet">
    <link href="css/scroll.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.1.0/css/flag-icon.min.css" rel="stylesheet">
    <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
            integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
            crossorigin="anonymous"
    />
</head>
</html>

<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-sharon static-top">
    <div class="container">
        <a class="navbar-brand-sharon" href="/">
            <div class = "logo-image">
                <img src="images/logo.png" class="img-fluid">
            </div>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/">
                        <span class="oi oi-home" title="home" aria-hidden="true"></span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="nav-link-home" href="/"><span id="homenav">Home</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="nav-link-employee" href="#entitlement">Employee Entitlement
                        <span id="nav-separator">|</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="nav-link-au" href="#au" data-reload onclick="translate_au()"><span class="flag-icon flag-icon-au"></span>
                        <span id="nav-separator">English</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="nav-link-au" href="#cn" data-reload onclick="translate_cn()">
                        <span class="flag-icon flag-icon-cn" id="nav-separator"></span>
                        <span id="nav-separator">中文</span></a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<!--  TILES CODE-->
<div class="pagina">
    <div class="linha">
        <div class="tile epic1" onclick="location.href='superannuation'" style="cursor: pointer">
            <span class="titulo" style="align-content: center">Super and Tax</span>
        </div>
        <div class="tile epic1" onclick="location.href='minimum_wage'" style="cursor: pointer">
            <span class="titulo" style="align-content: center">Minimum Wage</span>
        </div>
        <div class="tile epic1"  onclick="location.href='working_hour'" style="cursor: pointer">
            <span class="titulo" style="align-content: center">Working Hours</span>
        </div>
        <div class="tile epic1"  onclick="location.href='annual_bonus'" style="cursor: pointer">
            <span class="titulo" style="align-content: center">Annual Bonus</span>
        </div>
        <div class="tile epic2"  onclick="location.href='annual_leave'" style="cursor: pointer">
            <span class="titulo" style="align-content: center">Annual Leave</span>
        </div>
        <div class="tile epic1"  onclick="location.href='pay_raise_visu'" style="cursor: pointer">
            <span class="titulo" style="align-content: center">Pay Raise</span>
        </div>
        <div class="tile epic2"  onclick="location.href='pay_rate_level'" style="cursor: pointer">
            <span class="titulo" style="align-content: center">Pay Level</span>
        </div>
        <div class="tile epic1"  onclick="location.href='pay_slip'" style="cursor: pointer">
            <span class="titulo" style="align-content: center">Pay Slips</span>
        </div>
        <div class="tile epic2"  onclick="location.href='sick_leave'" style="cursor: pointer">
            <span class="titulo" style="align-content: center">Sick Leave</span>
        </div>
    </div>
</div>
<!-- TILES CODE END-->

<!-- Visualisation code-->
<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://unpkg.com/d3-simple-slider"></script>

<div class="container">

    <div class="row align-items-center">
        <div><h1>How did weekly earning change from the last 20 years?</h1></div>
    </div>
    <p>The dataset used in the below figure was about the weekly earnings from several industries during the last 20 years and it includes the predicting wage in 2020 and 2021.How to use this figure? First, we can choose a category that we are interested in, the line graph will change according to which industry we select. We can find employees from mining always had the highest wage in the same year and they wage was increased faster than every other industry. Oppositely, people who worked in accommodation and food service had a very low wage, which climbed very slowly as well </p>
    <p>After checking each category, we can find that employees from all industries had higher and higher wages year by year. Based on this information, we can calculate the percentage that the wage increased from the last year. Some predictions can be done as well. For example, we can predict how much we can earn per week in 2020, if your wage is too much lower than the prediction, you can find some entitlements from our story boards. After that, you can negotiate with your boss.</p>
</div>

<!-- Create a div where the graph will take place -->
<div class="container">

    <div class="row align-items-center">


        <h3>Select a category: &nbsp;&nbsp;</h3>

        <div><select id="selectButton" style="text-align: center"></select></div>
    </div>

    <!-- Create a div where the graph will take place -->
    <div id="my_dataviz" style="text-align: center"></div>

</div>

<div class="container">

    <div class="row align-items-center">
        <div><h3>How much can you earn in 2020 or 2021?</h3></div>
    </div>
    <p>The prediction for <b>Mining</b> may be around $2862.6 and $2937.73 in 2020 and 2021.
        <br>The prediction for <b>Manufacturing</b> may be around $1434.2 and $1466.91 in 2020 and 2021.
        <br>The prediction for <b>Electricity, Gas, Water and Waste Services</b> maybe around $2022.4 and $2076.52 in 2020 and 2021.
        <br>The prediction for <b>Construction</b> maybe around $1615.091 and $1656.539 in 2020 and 2021.
        <br>The prediction for <b>Wholesale Trade</b> maybe around $1474.11 and $1511.01 in 2020 and 2021.
        <br>The prediction for <b>Retail Trade</b> maybe around $795.6 and $813.88 in 2020 and 2021.
        <br>The prediction for <b>Accommodation and Food Services</b> maybe around $570.8 and $581.34 in 2020 and 2021.
        <br>The prediction for <b>Transport, Postal and Warehousing</b> maybe around $1539.944 and $1574.735 in 2020 and 2021.
        <br>The prediction for <b>Information Media and Telecommunications</b> maybe around $1778.157 and $1826.45 in 2020 and 2021.
        <br>The prediction for <b>Financial and Insurance Services</b> maybe around $1764.073 and $1809.13 in 2020 and 2021.
        <br>The prediction for <b>Rental, Hiring and Real Estate Services</b> maybe around $1265.67 and $1296.141 in 2020 and 2021.
        <br>The prediction for <b>Professional, Scientific and Technical Services</b> maybe around $1748.929 and $1796.114 in 2020 and 2021.
        <br>The prediction for <b>Administrative and Support Services</b> maybe around $1105.6 and $1130.38 in 2020 and 2021.
        <br>The prediction for <b>Public Administration and Safety</b> maybe around $1584 and $1623.2 in 2020 and 2021.
        <br>The prediction for <b>Education and Training</b> maybe around $1243.2 and $1271.86 in 2020 and 2021.
        <br>The prediction for <b>Health Care and Social Assistance</b> maybe around $1129.8 and $1156.29 in 2020 and 2021.
        <br>The prediction for <b>Arts and Recreation Services</b> maybe around $876.6 and $895.93 in 2020 and 2021.
        <br>The prediction for <b>Other Services</b> maybe around $1021.618 and $1046.969 in 2020 and 2021.<br>
        <font size="3" color="red">Claim: the predictions may not 100% correct, it is just a reference. If your salary was too much lower than it, please find some entitlement from our website.</font>    </p>
</div>
<!-- Color Scale -->
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

<script>

    // set the dimensions and margins of the graph
    var margin = {top: 10, right: 30, bottom: 30, left: 60},
        width = 800 - margin.left - margin.right,
        height = 600 - margin.top - margin.bottom;

    // append the svg object to the body of the page
    var svg = d3.select("#my_dataviz")
        .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
        .append("g")
        .attr("transform",
            "translate(" + margin.left + "," + margin.top + ")");

    //Read the data
    d3.csv("images/Pay_raise.csv", function(data) {
        console.log(data)
        // List of groups (here I have one group per column)
        var allGroup = d3.map(data, function(d){return(d.Industry)}).keys()
        console.log(allGroup)
        // add the options to the button
        d3.select("#selectButton")
            .selectAll('myOptions')
            .data(allGroup)
            .enter()
            .append('option')
            .text(function (d) { return d; }) // text showed in the menu
            .attr("value", function (d) { return d; }) // corresponding value returned by the button

        // A color scale: one color for each group
        var myColor = d3.scaleOrdinal()
            .domain(allGroup)
            .range(d3.schemeCategory20);

        // Add X axis --> it is a date format
        var x = d3.scaleLinear()
            .domain(d3.extent(data, function(d) { return d.Year; }))
            .range([ 0, width ]);
        svg.append("g")
            .attr("transform", "translate(0," + height + ")")
            .call(d3.axisBottom(x).ticks(7));

        // Add Y axis
        var y = d3.scaleLinear()
            .domain([0, d3.max(data, function(d) { return +d.Wage; })])
            .range([ height, 0 ]);
        svg.append("g")
            .call(d3.axisLeft(y));


        var tooltip = d3.select("#my_dataviz")
            .append("div")
            .style("opacity", 0)
            .attr("class", "tooltip")
            .style("background-color", "skyblue")
            .style("border-radius", "5px")
            .style("padding", "10px")
            .style("color", "black")

        var showTooltip = function(d) {
            tooltip
                .transition()
                .duration(200)
            tooltip
                .style("opacity", 1)
                .html("The wages of 2020 and 2021 are predictions")

                .style("left", (d3.mouse(this)[0]+30)+ "px")
                .style("top", (d3.mouse(this)[1]+250)+ "px")
        }
        var moveTooltip = function(d) {
            tooltip
                .style("left", (d3.mouse(this)[0]+30) + "px")
                .style("top", (d3.mouse(this)[1]+250) + "px")
        }
        var hideTooltip = function(d) {
            tooltip
                .transition()
                .duration(200)
                .style("opacity", 0)
        }
        // Initialize line with first group of the list
        var line = svg
            .append('g')
            .append("path")
            .datum(data.filter(function(d){return d.Industry==allGroup[0]}))
            .attr("d", d3.line()
                .x(function(d) { return x(d.Year) })
                .y(function(d) { return y(+d.Wage) })
            )
            .attr("stroke", function(d){ return myColor("valueA") })
            .style("stroke-width", 4)
            .style("fill", "none")
            .on("mouseover", showTooltip )
            .on("mousemove", moveTooltip )
            .on("mouseleave", hideTooltip )
        // A function that update the chart
        function update(selectedGroup) {

            // Create new data with the selection?
            var dataFilter = data.filter(function(d){return d.Industry==selectedGroup})

            // Give these new data to update line
            line
                .datum(dataFilter)
                .transition()
                .duration(1000)
                .attr("d", d3.line()
                    .x(function(d) { return x(d.Year) })
                    .y(function(d) { return y(+d.Wage) })
                )
                .attr("stroke", function(d){ return myColor(selectedGroup) })
        }

        // When the button is changed, run the updateChart function
        d3.select("#selectButton").on("change", function(d) {
            // recover the option that has been chosen
            var selectedOption = d3.select(this).property("value")
            // run the updateChart function with this selected option
            update(selectedOption)
        })
    })
</script>

<!-- Visualisation code end-->
<%include footer.ejs%>
<script>
    var dataReload = document.querySelectorAll("[data-reload]");

    //Language translations
    var language = {
        au:{
            welcome: "Welcome to KnowYourRights",
            home: "Home",
            minwage: "Minimum Wage"
        },
        cn:{
            welcome: "欢迎来到KnowYourRights",
            home: "主页",
            minwage: "最低工资"
        }
    };
    //Define language using window hashing
    // if (window.location.hash) {
    //   //console.log(window.location.hash);
    //   if (window.location.hash === "#cn") {
    //     homenav.textContent = language.cn.home;
    //     minwage.textContent = language.cn.minwage;
    //   } else {
    //     homenav.textContent = language.au.home;
    //     minwage.textContent = language.au.minwage;
    //   }
    // }
    // //Language Reload onclick illiteration
    // for(i=0; i< dataReload.length; i++){
    //   //console.log(dataReload[i]);
    //   dataReload[i].onclick = function(){
    //     //console.log("hello");
    //     if(window.location.hash === "#au"){
    //       //window.location.href = "#au";
    //       alert("hello");
    //       // window.location.reload();
    //     }
    //     else if(window.location.hash === "#cn"){
    //       //window.location.href = "#cn";
    //       // window.location.reload();
    //     }
    //   };
    // }
    function translate_cn() {
        document.getElementById("homenav").textContent = "主页";
        document.getElementById("nav-link-employee").textContent = "员工权利";
        document.getElementById("international-st").textContent = "对于国际学生";
        document.getElementById("know-entitle").textContent = "了解你的工作权利";
        document.getElementById("page2-entitlement").textContent = "员工权利";
        document.getElementById("about-your-pay").textContent = "关于你的工资";
        document.getElementById("minwage").textContent = "最低工资";
        document.getElementById("pay-slip").textContent = "支付单";
        document.getElementById("super-an").textContent = "退休金";
        document.getElementById("working-hrs").textContent = "工作时间";
        document.getElementById("view-pay-rate").textContent = "查看您的工资水平";
        document.getElementById("about-your-leave").textContent = "关于你的假期";
        document.getElementById("pay-raise").textContent = "加薪";
        document.getElementById("annual-bonus").textContent = "年度奖金";
        document.getElementById("annual-leave-entitle").textContent = "年假权利";
        document.getElementById("sick-leave-entitle").textContent = "病假权利";
        document.getElementById("page2-motive").textContent = "我们的动机";
        document.getElementById("quick-link").textContent = "快速链接";
        document.getElementById("pay-raise-2").textContent = "加薪";
        document.getElementById("working-hours-2").textContent = "工作时间";
        document.getElementById("super-ann").textContent = "养老金";
        document.getElementById("sick-leave-ent").textContent = "病假权利";
        document.getElementById("annual-bonus-2").textContent = "年度奖金";
        document.getElementById("other-links").textContent = "其他有用的链接";
        document.getElementById("min-wage-3").textContent = "最低工资";
        document.getElementById("view-pay-rate-3").textContent = "查看您的工资水平";
        document.getElementById("pay-slip-3").textContent = "工资单";
        document.getElementById("annual-leave-3").textContent = "年假权利";
        document.getElementById("copy-right").textContent = "2019年KnowYourRights。版权所有。";
        document.getElementById("privacy-pol").textContent = "隐私政策";
        document.getElementById("terms-of-use").textContent = "使用条款";


    }
    function translate_au() {
        document.getElementById("homenav").textContent = "Home";
        document.getElementById("nav-link-employee").textContent = "Employee Entitlement";
        document.getElementById("international-st").textContent = "For International Students";
        document.getElementById("know-entitle").textContent = "Know Your Entitlements";
        document.getElementById("page2-entitlement").textContent = "EMPLOYEE ENTITLEMENT";
        document.getElementById("about-your-pay").textContent = "About Your Pay";
        document.getElementById("minwage").textContent = "Minimum Wage";
        document.getElementById("pay-slip").textContent = "Pay Slip";
        document.getElementById("super-an").textContent = "Superannuation";
        document.getElementById("working-hrs").textContent = "Working Hours";
        document.getElementById("view-pay-rate").textContent = "View Your Pay Rate Level";
        document.getElementById("about-your-leave").textContent = "About Your Leave";
        document.getElementById("pay-raise").textContent = "Pay Raise";
        document.getElementById("annual-bonus").textContent = "Annual Bonus";
        document.getElementById("annual-leave-entitle").textContent = "Annual Leave Entitlements";
        document.getElementById("sick-leave-entitle").textContent = "Sick Leave Entitlements";
        document.getElementById("page2-motive").textContent = "Our Motive";
        document.getElementById("quick-link").textContent = "Quick Links";
        document.getElementById("pay-raise-2").textContent = "Pay Raise";
        document.getElementById("working-hours-2").textContent = "Working Hours";
        document.getElementById("super-ann").textContent = "Superannuation";
        document.getElementById("sick-leave-ent").textContent = "Sick Leave Entitlements";
        document.getElementById("annual-bonus-2").textContent = "Annual Bonus";
        document.getElementById("other-links").textContent = "Other Useful Links";
        document.getElementById("min-wage-3").textContent = "Minimum Wage";
        document.getElementById("view-pay-rate-3").textContent = "View Your Pay Rate Level";
        document.getElementById("pay-slip-3").textContent = "Pay Slip";
        document.getElementById("annual-leave-3").textContent = "Annual Leave Entitlements";
        document.getElementById("copy-right").textContent = "2019 KnowYourRights. All rights reserved.";
        document.getElementById("privacy-pol").textContent = "Privacy Policy";
        document.getElementById("terms-of-use").textContent = "Terms of Use";
    }
    $(function(){
        $(".tile").mousedown(function(){
            $(this).addClass("selecionado");
        });

        $(".tile").mouseup(function(){
            $(this).removeClass("selecionado");
        });
    });
    </script>
</body>